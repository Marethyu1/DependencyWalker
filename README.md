# How to use

Run DependencyWalker.exe with -? or --help flags for documentation on parameters.

## Modes
DependencyWalker has two modes - `walk` and `graph`

### Walk
`DependencyWalker.exe walk <options>`

This mode does the analysis of a specified Visual Studio Solution. Please note that it requires internet connectivity.

It outputs two artifacts:
- a .json file documenting the full dependency heirarchy - this will not respect any filters (`output.json`)
- a DGML graph visualising the heirarchy for the filtered dependencies (if specified, otherwise it will show the full dependency tree) (`mydgml.dgml`)

Parameter | Description | Example Usage
----------|-------------|------
-s | A path to a Visual Studio solution file to analyse | `walk -s "C:\dev\someproject\MySolution.sln"`
-n | Uri to Nuget repository feed. Can be specified multiple times, supporting fallback Nuget feeds.| `-n "https://customnugetfeed.my/api/v2" -n "https://secondarynugetfeed.my/api/v2"`
-f | Optional. Package Id to limit dependency tree to. Program will identify any place in the dependency tree this package(s) occur. Can be specified multiple times. | `-f Newtonsoft.Json -f RestSharp`


### Graph
`DependencyWalker.exe graph <options>`

This mode takes a previously performed analysis (the more expensive and time consuming part of the process) and allows you to regraph part of the dependency tree e.g. isolate specific dependency. This does not require internet activity.

It outputs one artifact:
- a DGML graph visualising the heirarchy for the filtered dependencies (if specified, otherwise it will show the full dependency tree) (`mydgml.dgml`)

Parameter | Description | Example Usage
----------|-------------|------
-i | A path to a .json file previously generated by DependencyWalker | `graph -i "C:\Temp\output.json"`
-f | Optional. Package Id to limit dependency tree to. Program will identify any place in the dependency tree this package(s) occur. Can be specified multiple times. | `-f Newtonsoft.Json -f RestSharp`

# Attribution

This project was inspired by many blog posts and benefitted from the work of others so credit where credit is due:

https://stackoverflow.com/questions/6653715/view-nuget-package-dependency-hierarchy
https://icanhasdot.net/Console
https://github.com/ThomasArdal/NuGetPackageVisualizer
https://andydote.co.uk/2016/09/12/nuget-dependencies/
http://pascallaurin42.blogspot.com/2014/06/visualizing-nuget-packages-dependencies.html
https://gist.github.com/plaurin/b4bc53428f01dc722afb
https://gist.github.com/sergey-tihon/46824acffb8c288fc5fe
